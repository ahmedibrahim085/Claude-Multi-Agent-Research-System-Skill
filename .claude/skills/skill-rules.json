{
  "version": "1.0",
  "description": "Skill activation rules for automatic skill triggering based on user prompts and file context",
  "source": "Pattern adapted from diet103/claude-code-infrastructure-showcase (opensource, 6+ months production)",
  "skills": {
    "multi-agent-researcher": {
      "type": "guardrail",
      "enforcement": "block",
      "priority": "critical",
      "description": "Research tasks must use orchestrated multi-agent approach with mandatory report-writer delegation",
      "promptTriggers": {
        "keywords": [
          "search",
          "find",
          "find out",
          "look up",
          "look into",
          "discover",
          "uncover",
          "research",
          "investigate",
          "analyze",
          "study",
          "explore",
          "examine",
          "survey",
          "assess",
          "evaluate",
          "review",
          "inspect",
          "probe",
          "scrutinize",
          "gather",
          "collect",
          "compile",
          "learn about",
          "tell me about",
          "dig into",
          "delve into",
          "what are the latest",
          "comprehensive",
          "deep dive",
          "thorough investigation",
          "in-depth",
          "detailed overview",
          "landscape of",
          "state of the art",
          "best practices"
        ],
        "intentPatterns": [
          "(search|find|look up|discover|uncover)\\s+.*",
          "(research|investigate|analyze|study|explore|examine|survey)\\s+.*",
          "(assess|evaluate|review|inspect|probe|scrutinize)\\s+.*",
          "(gather|collect|compile)\\s+(information|data|resources).*",
          "(learn|tell me) about.*",
          "(dig|delve) into.*",
          "comprehensive\\s+(analysis|investigation|study|research)",
          "what are the latest.*",
          "deep dive (into|on).*",
          "thorough (investigation|analysis|study) of.*",
          "in-depth (look|analysis|study).*",
          "detailed overview of.*",
          "landscape of.*",
          "state of the art (in|for).*",
          "best practices (for|in).*"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "files/research_notes/**/*.md",
          "files/reports/**/*.md"
        ]
      },
      "validation": {
        "requiredPhases": [
          "decomposition",
          "research",
          "synthesis",
          "delivery"
        ],
        "phaseSequence": "strict",
        "qualityGates": {
          "synthesis": {
            "requiredAgent": "report-writer",
            "enforcementLevel": "critical"
          }
        }
      }
    },
    "spec-workflow-orchestrator": {
      "type": "orchestrator",
      "enforcement": "recommend",
      "priority": "high",
      "description": "Planning tasks must use comprehensive planning workflow from ideation to development-ready specifications",
      "promptTriggers": {
        "keywords": [
          "plan",
          "design",
          "architect",
          "blueprint",
          "outline",
          "draft",
          "sketch",
          "map out",
          "structure",
          "organize",
          "prototype",
          "model",
          "define",
          "specify",
          "scaffold",
          "frame",
          "conceptualize",
          "build",
          "create",
          "develop",
          "implement",
          "construct",
          "craft",
          "engineer",
          "make",
          "set up",
          "establish",
          "specs",
          "specifications",
          "requirements",
          "functional requirements",
          "non-functional requirements",
          "acceptance criteria",
          "user stories",
          "use cases",
          "scenarios",
          "test cases",
          "architecture",
          "system design",
          "technical design",
          "infrastructure",
          "framework",
          "schema",
          "data model",
          "API design",
          "component design",
          "analyze requirements",
          "gather requirements",
          "define requirements",
          "requirement analysis",
          "feasibility study",
          "needs assessment",
          "scope definition",
          "PRD",
          "product requirements document",
          "technical spec",
          "design doc",
          "architecture document",
          "ADR",
          "architecture decision record",
          "RFC",
          "proposal",
          "features",
          "feature list",
          "capabilities",
          "functionality",
          "feature set",
          "feature spec",
          "MVP",
          "minimum viable product",
          "roadmap",
          "project plan",
          "implementation plan",
          "development plan",
          "rollout plan",
          "migration plan",
          "deployment plan",
          "what should we build",
          "how should we structure",
          "what's the best approach",
          "help me plan",
          "need to design",
          "want to architect",
          "thinking about building",
          "considering implementing",
          "what are the requirements for",
          "what features should",
          "how do we implement",
          "what's the architecture",
          "need specs for",
          "create a plan for",
          "design a system for",
          "outline the approach",
          "ready for development",
          "before we start coding",
          "what do we need",
          "how should this work"
        ],
        "intentPatterns": [
          "(plan|design|architect|blueprint|outline|draft|sketch|map out|structure|build|create|develop)\\s+(a|an|the)?\\s*(application|app|system|project|feature|service|platform|interface|tool|web|library|API|component|module|workflow|process)",
          "(specs|specifications|requirements|PRD|design doc|technical spec|architecture doc|ADR|blueprint|proposal)\\s+(for|of)\\s+.*",
          "(architecture|system design|technical design|infrastructure|framework|structure|data model|API design)\\s+(for|of)\\s+.*",
          "(features|feature list|capabilities|functionality|feature set|MVP)\\s+(for|of|should)\\s+.*",
          "(analyze|gather|define|document|collect)\\s+(requirements|specs|needs|use cases|user stories)",
          "what (are|should be|would be) the (specs|specifications|requirements|features|capabilities|architecture)",
          "what (should|do) (we|I) (build|create|develop|design|implement)",
          "how (should|do) (we|I) (structure|architect|design|implement|build)",
          "what('s| is) the (best|right|recommended) (approach|way|method|strategy) (for|to)",
          "(need|want|looking) to (plan|design|architect|build|create|implement|develop)",
          "help (me|us) (plan|design|architect|build|create)",
          "(thinking about|considering|planning to) (building|creating|implementing|developing|designing)",
          "ready for (development|implementation|coding|building)",
          "before (we|I) (start|begin) (coding|implementing|building|developing)",
          "create (a|an) (PRD|design doc|technical spec|architecture doc|plan|roadmap|blueprint)",
          "write (a|an) (PRD|design doc|technical spec|requirements doc)",
          "(implementation|development|rollout|deployment|migration) plan",
          "how (to|do we|should we) implement.*",
          "(define|scope|outline) (the|this) (project|feature|system|application)",
          "what (do|would) (we|I) need (for|to)",
          "what features (should|would|do we need)",
          "feature spec (for|of).*"
        ]
      },
      "fileTriggers": {
        "pathPatterns": [
          "docs/planning/**/*.md",
          "docs/adrs/**/*.md"
        ]
      },
      "validation": {
        "requiredPhases": [
          "planning"
        ],
        "phaseSequence": "strict",
        "qualityGates": {
          "planning": {
            "threshold": 85,
            "maxIterations": 3
          }
        }
      }
    },
    "semantic-search": {
      "type": "efficiency",
      "enforcement": "recommend",
      "priority": "high",
      "description": "Project content search for functionality and documentation - saves 5,000-10,000 tokens per exploration task by finding content by meaning (code, docs, configs, markdown) instead of trial-and-error Grep",
      "promptTriggers": {
        "keywords": [
          "index",
          "reindex",
          "re-index",
          "update index",
          "refresh index",
          "rebuild index",
          "recreate index",
          "create index",
          "build index",
          "incremental index",
          "incremental reindex",
          "full index",
          "full reindex",
          "check index",
          "index status",
          "verify index",
          "list projects",
          "indexed projects",
          "find in codebase",
          "find in code",
          "find in project",
          "search codebase",
          "search code",
          "search project",
          "search repository",
          "search repo",
          "locate in code",
          "locate in codebase",
          "where in code",
          "where in codebase",
          "where in the code",
          "find other implementations",
          "code patterns",
          "implementation patterns",
          "find documentation",
          "search documentation",
          "locate documentation",
          "find config",
          "search config",
          "locate config",
          "find markdown",
          "search markdown",
          "deployment documentation",
          "configuration examples",
          "setup documentation",
          "troubleshooting guides",
          "find ADR",
          "find guide",
          "locate guide"
        ],
        "intentPatterns": [
          "(find|search|locate|show|discover)\\s+.*(in|across|through|within)\\s+(the\\s+)?(codebase|code|project|repository|repo|source|files)",
          "(find|search|locate)\\s+.*(in|within)\\s+(this\\s+)?(file|directory|folder|module|class|function|method|component)",
          "(find|search|locate|show)\\s+(me\\s+)?(the\\s+)?(code|implementation|function|method|class|module|component)\\s+(for|that|which|where).*",
          "(find|locate|show)\\s+(similar|related|other|matching)\\s+(implementations?|code|functions?|methods?|classes?|examples?)",
          "(search|find)\\s+.*\\s+(code|codebase|implementation|source)",
          "locate\\s+.*(function|method|class|module|file|component|implementation)",
          "(find|search|locate|show)\\s+.*(documentation|docs|guide|guides|README|ADR|markdown).*",
          "(find|search|locate|show)\\s+.*(config|configuration|settings|environment|setup).*",
          "(deployment|setup|installation|troubleshooting)\\s+(documentation|guide|docs|instructions)",
          "(update|refresh|rebuild|recreate)\\s+(the\\s+)?(semantic\\s+)?(search\\s+)?index",
          "(do|perform|run|execute)\\s+(an?\\s+)?(incremental\\s+|full\\s+)?(re)?index(ing)?",
          "(create|build|setup|initialize)\\s+(the\\s+)?(semantic\\s+)?(search\\s+)?index",
          "index\\s+(this|the|my)\\s+(project|codebase|directory|repository|repo|code)",
          "(check|verify|show|display)\\s+(the\\s+)?index\\s+(status|stats|statistics|info)?",
          "(incremental|smart|fast)\\s+(re)?index(ing)?",
          "(full|complete|entire|whole)\\s+(re)?index(ing)?",
          "(list|show|display)\\s+(all\\s+)?(indexed\\s+)?projects"
        ]
      },
      "fileTriggers": {
        "pathPatterns": []
      },
      "validation": {
        "requiredPhases": [],
        "phaseSequence": "flexible",
        "qualityGates": {}
      }
    }
  }
}
